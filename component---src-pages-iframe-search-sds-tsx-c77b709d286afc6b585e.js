"use strict";(self.webpackChunksds_archive_website=self.webpackChunksds_archive_website||[]).push([[467,427,921],{3924:function(e,t,a){a.d(t,{Z:function(){return r}});var n=a(257);function r(){return(0,n.useState)(null)}},1118:function(e,t,a){a.d(t,{FT:function(){return l}});var n=a(257),r=a(1312);const s=["as","disabled"];function l(e){let{tagName:t,disabled:a,href:n,target:r,rel:s,role:l,onClick:o,tabIndex:c=0,type:i}=e;t||(t=null!=n||null!=r||null!=s?"a":"button");const d={tagName:t};if("button"===t)return[{type:i||"button",disabled:a},d];const u=e=>{(a||"a"===t&&function(e){return!e||"#"===e.trim()}(n))&&e.preventDefault(),a?e.stopPropagation():null==o||o(e)};return"a"===t&&(n||(n="#"),a&&(n=void 0)),[{role:null!=l?l:"button",disabled:void 0,tabIndex:a?void 0:c,href:n,target:"a"===t?r:void 0,"aria-disabled":a||void 0,rel:"a"===t?s:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const o=n.forwardRef(((e,t)=>{let{as:a,disabled:n}=e,o=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,s);const[c,{tagName:i}]=l(Object.assign({tagName:a,disabled:n},o));return(0,r.tZ)(i,Object.assign({},o,c,{ref:t}))}));o.displayName="Button",t.ZP=o},6594:function(e,t,a){var n=a(5900),r=a.n(n),s=a(257),l=a(1118),o=a(9541),c=a(1312);const i=s.forwardRef(((e,t)=>{let{as:a,bsPrefix:n,variant:s,size:i,active:d,className:u,...m}=e;const f=(0,o.vE)(n,"btn"),[p,{tagName:h}]=(0,l.FT)({tagName:a,...m}),v=h;return(0,c.tZ)(v,{...p,...m,ref:t,className:r()(u,f,d&&"active",s&&`${f}-${s}`,i&&`${f}-${i}`,m.href&&m.disabled&&"disabled")})}));i.displayName="Button",i.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=i},4653:function(e,t,a){var n=a(5900),r=a.n(n),s=a(257),l=a(5697),o=a.n(l),c=a(1312);const i={type:o().string,tooltip:o().bool,as:o().elementType},d=s.forwardRef(((e,t)=>{let{as:a="div",className:n,type:s="valid",tooltip:l=!1,...o}=e;return(0,c.tZ)(a,{...o,ref:t,className:r()(n,`${s}-${l?"tooltip":"feedback"}`)})}));d.displayName="Feedback",d.propTypes=i,t.Z=d},4709:function(e,t,a){var n=a(5900),r=a.n(n),s=a(257),l=a(8788),o=a(9541),c=a(1312);const i=s.forwardRef(((e,t)=>{let{id:a,bsPrefix:n,className:i,type:d="checkbox",isValid:u=!1,isInvalid:m=!1,as:f="input",...p}=e;const{controlId:h}=(0,s.useContext)(l.Z);return n=(0,o.vE)(n,"form-check-input"),(0,c.tZ)(f,{...p,ref:t,type:d,id:a||h,className:r()(i,n,u&&"is-valid",m&&"is-invalid")})}));i.displayName="FormCheckInput",t.Z=i},8788:function(e,t,a){const n=a(257).createContext({});t.Z=n},1760:function(e,t,a){var n=a(5900),r=a.n(n),s=a(257),l=(a(2473),a(4653)),o=a(8788),c=a(9541),i=a(1312);const d=s.forwardRef(((e,t)=>{let{bsPrefix:a,type:n,size:l,htmlSize:d,id:u,className:m,isValid:f=!1,isInvalid:p=!1,plaintext:h,readOnly:v,as:b="input",...g}=e;const{controlId:y}=(0,s.useContext)(o.Z);let E;return a=(0,c.vE)(a,"form-control"),E=h?{[`${a}-plaintext`]:!0}:{[a]:!0,[`${a}-${l}`]:l},(0,i.tZ)(b,{...g,type:n,size:d,ref:t,readOnly:v,id:u||y,className:r()(m,E,f&&"is-valid",p&&"is-invalid","color"===n&&`${a}-color`)})}));d.displayName="FormControl",t.Z=Object.assign(d,{Feedback:l.Z})},7427:function(e,t,a){const n=a(257).createContext(null);n.displayName="InputGroupContext",t.Z=n},8203:function(e,t,a){a.d(t,{Z:function(){return D}});var n,r=a(5900),s=a.n(r),l=a(9351),o=a(3004),c=a(7216),i=a(99);function d(e){if((!n&&0!==n||e)&&o.Z){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),n=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return n}var u=a(3924),m=a(5655),f=a(1822),p=a(9129),h=a(6914),v=a(257),b=a(2178),g=a(7640),y=a(563),E=a(8870),N=(0,E.Z)("modal-body"),Z=a(123),w=a(9541),x=a(1312);const S=v.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,contentClassName:r,centered:l,size:o,fullscreen:c,children:i,scrollable:d,...u}=e;a=(0,w.vE)(a,"modal");const m=`${a}-dialog`,f="string"==typeof c?`${a}-fullscreen-${c}`:`${a}-fullscreen`;return(0,x.tZ)("div",{...u,ref:t,className:s()(m,n,o&&`${a}-${o}`,l&&`${m}-centered`,d&&`${m}-scrollable`,c&&f),children:(0,x.tZ)("div",{className:s()(`${a}-content`,r),children:i})})}));S.displayName="ModalDialog";var k=S,C=(0,E.Z)("modal-footer"),_=a(1929);const $=v.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,...r}=e;return a=(0,w.vE)(a,"modal-header"),(0,x.tZ)(_.Z,{ref:t,...r,className:s()(n,a)})}));$.displayName="ModalHeader",$.defaultProps={closeLabel:"Close",closeButton:!1};var T=$;const F=(0,a(6132).Z)("h4");var R=(0,E.Z)("modal-title",{Component:F});const P={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:k};function I(e){return(0,x.tZ)(y.Z,{...e,timeout:null})}function O(e){return(0,x.tZ)(y.Z,{...e,timeout:null})}const M=v.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,style:r,dialogClassName:y,contentClassName:E,children:N,dialogAs:S,"aria-labelledby":k,"aria-describedby":C,"aria-label":_,show:$,animation:T,backdrop:F,keyboard:R,onEscapeKeyDown:P,onShow:M,onHide:D,container:H,autoFocus:z,enforceFocus:B,restoreFocus:A,restoreFocusOptions:L,onEntered:j,onExit:V,onExiting:U,onEnter:W,onEntering:J,onExited:K,backdropClassName:q,manager:G,...X}=e;const[Y,Q]=(0,v.useState)({}),[ee,te]=(0,v.useState)(!1),ae=(0,v.useRef)(!1),ne=(0,v.useRef)(!1),re=(0,v.useRef)(null),[se,le]=(0,u.Z)(),oe=(0,f.Z)(t,le),ce=(0,m.Z)(D),ie=(0,w.SC)();a=(0,w.vE)(a,"modal");const de=(0,v.useMemo)((()=>({onHide:ce})),[ce]);function ue(){return G||(0,g.t)({isRTL:ie})}function me(e){if(!o.Z)return;const t=ue().getScrollbarWidth()>0,a=e.scrollHeight>(0,c.Z)(e).documentElement.clientHeight;Q({paddingRight:t&&!a?d():void 0,paddingLeft:!t&&a?d():void 0})}const fe=(0,m.Z)((()=>{se&&me(se.dialog)}));(0,p.Z)((()=>{(0,i.Z)(window,"resize",fe),null==re.current||re.current()}));const pe=()=>{ae.current=!0},he=e=>{ae.current&&se&&e.target===se.dialog&&(ne.current=!0),ae.current=!1},ve=()=>{te(!0),re.current=(0,h.Z)(se.dialog,(()=>{te(!1)}))},be=e=>{"static"!==F?ne.current||e.target!==e.currentTarget?ne.current=!1:null==D||D():(e=>{e.target===e.currentTarget&&ve()})(e)},ge=(0,v.useCallback)((e=>(0,x.tZ)("div",{...e,className:s()(`${a}-backdrop`,q,!T&&"show")})),[T,q,a]),ye={...r,...Y};ye.display="block";return(0,x.tZ)(Z.Z.Provider,{value:de,children:(0,x.tZ)(b.Z,{show:$,ref:oe,backdrop:F,container:H,keyboard:!0,autoFocus:z,enforceFocus:B,restoreFocus:A,restoreFocusOptions:L,onEscapeKeyDown:e=>{R||"static"!==F?R&&P&&P(e):(e.preventDefault(),ve())},onShow:M,onHide:D,onEnter:(e,t)=>{e&&me(e),null==W||W(e,t)},onEntering:(e,t)=>{null==J||J(e,t),(0,l.ZP)(window,"resize",fe)},onEntered:j,onExit:e=>{null==re.current||re.current(),null==V||V(e)},onExiting:U,onExited:e=>{e&&(e.style.display=""),null==K||K(e),(0,i.Z)(window,"resize",fe)},manager:ue(),transition:T?I:void 0,backdropTransition:T?O:void 0,renderBackdrop:ge,renderDialog:e=>(0,x.tZ)("div",{role:"dialog",...e,style:ye,className:s()(n,a,ee&&`${a}-static`),onClick:F?be:void 0,onMouseUp:he,"aria-label":_,"aria-labelledby":k,"aria-describedby":C,children:(0,x.tZ)(S,{...X,onMouseDown:pe,className:y,contentClassName:E,children:N})})})})}));M.displayName="Modal",M.defaultProps=P;var D=Object.assign(M,{Body:N,Header:T,Title:R,Footer:C,Dialog:k,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},8427:function(e,t,a){a.r(t);var n=a(257),r=a(8203),s=a(6594),l=a(5019);t.default=e=>{let{title:t="",content:a,onConfirm:o,onCancel:c,cancelButtonTitle:i=""}=e;const{t:d}=(0,l.$)();return n.createElement(r.Z,{dialogClassName:"alert-modal",show:!0,centered:!0,onHide:c},n.createElement("div",{className:"alert-modal-container"},t&&n.createElement("div",{className:"alert-modal-title"}," ",t," "),a&&n.createElement("div",{className:"alert-modal-content"}," ",a," "),null!=o?n.createElement("div",{style:{display:"flex",gap:10}},n.createElement(s.Z,{className:"alert-modal-back-button",onClick:c}," ",d("Back")," "),n.createElement(s.Z,{className:"alert-modal-confirm-button",onClick:o}," ",d("Yes")," ")):n.createElement(s.Z,{className:"alert-modal-back-button",onClick:c}," ",i||d("Back")," ")))}},756:function(e,t,a){a.d(t,{Z:function(){return E}});var n=a(257),r=a(5900),s=a.n(r),l=a(8870),o=a(9541),c=a(4709),i=a(7427),d=a(1312);const u=(0,l.Z)("input-group-text",{Component:"span"}),m=n.forwardRef(((e,t)=>{let{bsPrefix:a,size:r,hasValidation:l,className:c,as:u="div",...m}=e;a=(0,o.vE)(a,"input-group");const f=(0,n.useMemo)((()=>({})),[]);return(0,d.tZ)(i.Z.Provider,{value:f,children:(0,d.tZ)(u,{ref:t,...m,className:s()(c,a,r&&`${a}-${r}`,l&&"has-validation")})})}));m.displayName="InputGroup";var f=Object.assign(m,{Text:u,Radio:e=>(0,d.tZ)(u,{children:(0,d.tZ)(c.Z,{type:"radio",...e})}),Checkbox:e=>(0,d.tZ)(u,{children:(0,d.tZ)(c.Z,{type:"checkbox",...e})})}),p=a(1760),h=a(6594),v=a(5019),b=a(9874);const g=(0,n.lazy)((()=>a.e(427).then(a.bind(a,8427)))),y=(0,n.lazy)((()=>a.e(687).then(a.bind(a,6687))));var E=function(e){let{onSearch:t,captcha:a=!1,valueInit:r="",countryFilter:s}=e;const{0:l,1:o}=(0,n.useState)(r),{0:c,1:i}=(0,n.useState)(""),{0:d,1:u}=(0,n.useState)(!1),{0:m,1:E}=(0,n.useState)(null),[N,Z]=n.useState(!1),[w,x]=n.useState(1),{t:S}=(0,v.$)(),k=()=>{l.length<3?E(n.createElement(b.Z,null,n.createElement(g,{title:"Error",content:"You must enter at least 3 characters when searching...",onCancel:()=>E(null)}))):(Z(!1),x(1),t(l,(e=>{E(n.createElement(b.Z,null,n.createElement(g,{title:"Error",content:null!=e?e:"",onCancel:()=>E(null)})))})))},C=()=>n.createElement(h.Z,{type:"submit",className:"search-bar-btn"},n.createElement("img",{src:"/icons/Search.png",alt:"Search Icon",className:"search-icon"}),n.createElement("div",{className:"search-text",dangerouslySetInnerHTML:{__html:S("searchbar.searchButton")}}));return n.createElement(n.Fragment,null,d&&n.createElement(b.Z,null,n.createElement(g,{title:S("captcha.errorMessageTitle"),content:S("captcha.errorMessageContent"),onCancel:()=>{u(!1)}})),n.createElement("div",{className:"search-container"},n.createElement("form",{className:"search-form",onSubmit:e=>{e.preventDefault(),5==w&&console.log("Error 5 times"),a?N?x((e=>e+1)):Z(!0):k()}},n.createElement(f,{className:"search-input-group"},n.createElement(p.Z,{placeholder:S("searchbar.searchPlaceHolder"),className:"place-holder",value:l,onChange:e=>{o(e.target.value)}}),a&&n.createElement(b.Z,null,n.createElement("div",{className:"captcha-box-container"},n.createElement(y,{value:c,setValue:e=>{i(e)},onValidateCaptcha:N,count:w,onValidateSuccess:k,onValidateFail:()=>{u(!0)}}))),s?n.createElement("div",{className:"search-button-group"},C(),s):C()))),m)}},9253:function(e,t,a){var n=a(257),r=a(5019),s=a(9874);const l=(0,n.lazy)((()=>a.e(114).then(a.bind(a,3114)))),o=(0,n.lazy)((()=>Promise.all([a.e(351),a.e(237),a.e(113),a.e(786)]).then(a.bind(a,3107))));t.Z=e=>{var t;let{title:a,searchBar:c,searchFooter:i=!0,showTable:d=!1,loading:u=!1,notFound:m=!1,keyword:f="",response:p=null,pdfModal:h=!1,source:v=""}=e;const{t:b}=(0,r.$)();return n.createElement(s.Z,null,n.createElement("div",null,n.createElement("div",{className:"search-box-container"},n.createElement("div",{className:"search-box-header"},n.createElement("div",{dangerouslySetInnerHTML:{__html:a}}),n.createElement("div",{className:"search-box-bar-container"},n.createElement("div",{className:"search-box-bar"},c)),d&&!m&&n.createElement("div",{className:"search-box-result-count"},null!==(t=null==p?void 0:p.total)&&void 0!==t?t:0," ",b("search.result"))),d?f&&n.createElement("div",{className:"search-box-result-table"},u?n.createElement(l,{animation:"border"}):m?n.createElement("div",{className:"not-found-text"},b("search.notFound")):n.createElement(o,{pdfModal:h,response:p,source:v})):null),i&&n.createElement("div",{className:"search-box-link"},b("search.PoweredBy"),n.createElement("a",{target:"_blank",href:"https://sdsmanager.com/",title:"SDS manager"},"sdsmanager.com"))))}},4329:function(e,t,a){function n(e,t,a,n,r){return new Promise(((s,l)=>{const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(4===o.readyState){let t;switch(o.status){case 200:try{t=JSON.parse(o.responseText)}catch(e){t=o.status}s(t);break;case 201:try{t=JSON.parse(o.responseText)}catch(e){t=o.status}s(t);break;case 400:case 401:case 403:case 409:case 290:case 490:case 500:try{t=JSON.parse(o.responseText),t.status=o.status}catch(e){t="Server currently under maintenance, please try again later."}break;default:t="Server currently under maintenance, please try again later."}l(t)}},o.open(t,e,!0),r&&o.setRequestHeader("Authorization","JWT "+r),n?o.send(n):(o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send(JSON.stringify(a)))}))}a.d(t,{h:function(){return n}})},5638:function(e,t,a){a.r(t),a.d(t,{MAX_RESULT:function(){return m},PER_PAGE:function(){return u}});var n=a(257),r=a(5019),s=a(4329),l=a(3586),o=a(4083),c=a(8427),i=a(9253),d=a(756);const u=5,m=20;t.default=()=>{const{t:e}=(0,r.$)(),{0:t,1:a}=(0,n.useState)(null),{0:u,1:m}=(0,n.useState)(!1),{0:f,1:p}=(0,n.useState)(!1),{0:h,1:v}=(0,n.useState)(0),{0:b,1:g}=(0,n.useState)(null),{0:y,1:E}=(0,n.useState)(""),{0:N,1:Z}=(0,n.useState)(o.X9),{0:w,1:x}=(0,n.useState)("eu"),{0:S,1:k}=(0,n.useState)(null),{0:C,1:_}=(0,n.useState)(!1);(0,n.useEffect)((()=>{if("undefined"==typeof window)return;const e=new URLSearchParams(window.location.search),t=e.get("lang"),a=e.get("company_website"),n=e.get("region");if(a){k(a);const e=`https://discovery.sdsmanager.com/customer/website/${a}/status`;(0,s.h)(e,"get").then((e=>{_(e.status)})).catch((e=>{}))}t&&t!=N&&o.Mj.indexOf(t)>-1&&(Z(t),l.ZP.changeLanguage(t)),w&&n!=w&&o.nR.indexOf(n)>-1&&x(n)}),[]);const $=e=>{if(f&&p(!1),h>=4)return p(!0),void v(0);!function(e,t){void 0===t&&(t=0),m(!0),a(null);let r="https://admin55.sdsmanager.com/api/discovery-es/";r+=`?search=${e}&language_code=${N}&company_web_site=${S}`,(0,s.h)(r,"get").then((e=>{if(e.results){const t=e.results;t.sort(((e,t)=>e.sds_pdf_revision_date<t.sds_pdf_revision_date?1:e.sds_pdf_revision_date>t.sds_pdf_revision_date||!t.sds_pdf_revision_date?-1:0));const n={...e,results:t};a(n),m(!1)}if(0==e.status)return m(!1),void g(n.createElement(c.default,{title:"Error",content:e.message,onCancel:()=>g(null)}))})).catch((e=>{m(!1),g(n.createElement(c.default,{title:"Error",content:e.message?e.message:e,onCancel:()=>g(null)}))}))}(e),E(e),v(h+1)};let T=!t||t&&0===t.results.length;return S?C?n.createElement(n.Fragment,null,n.createElement(i.Z,{title:`<p class="search-box-title"> ${e("search.title")} </p>`,searchBar:n.createElement(d.Z,{valueInit:y,captcha:f,onSearch:e=>$(e)}),loading:u,notFound:T,keyword:y,response:t,showTable:!0}),b):n.createElement("div",null," ",e("searchIframe.Website")," ",S," ",e("searchIframe.HasNotAccessToThisService")," "):n.createElement("div",null," ",e("searchIframe.MissingCompanyWebsite")," ")}},2473:function(e){var t=function(){};e.exports=t}}]);
//# sourceMappingURL=component---src-pages-iframe-search-sds-tsx-c77b709d286afc6b585e.js.map